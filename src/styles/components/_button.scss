// button color definitions
$button-bgs:  (primary, $brand-primary),
              (success, $brand-success),
              (warning, $brand-warning),
              (info, $brand-info),
              (danger, $brand-danger),
              (inverse, $gray-dark),
              (white, #fff),
              (default, $gray-lighter);

$button-texts:  (primary, #fff, #fff, #fff),
                (success, #fff, #fff, #fff),
                (warning, #fff, #fff, #fff),
                (info, #fff, #fff, #fff),
                (danger, #fff, #fff, #fff),
                (inverse, #fff, #fff, #fff),
                (white, $gray-dark, $gray-darker, $gray-darker),
                (default, $gray-dark, $gray-darker, $gray-darker);


// button background mixin
@mixin btn-bg($bg) {
  background: $bg;
  box-shadow: inset 0 -3px 0 0 rgba(0, 0, 0, 0.1);

  &.btn-sm {
    box-shadow: inset 0 -2px 0 0 rgba(0, 0, 0, 0.1);
  }

  &.btn-lg {
    box-shadow: inset 0 -4px 0 0 rgba(0, 0, 0, 0.1);
  }

  &[disabled] {
    opacity: 0.65;
  }

  &:hover {
    background: darken($bg, 4%);
  }

  &:active {
    background: darken($bg, 8%);
  }

  &.btn-link {
    box-shadow: none;

    &:hover, &.active, &:active {
      background: transparent;
    }
  }

  &.active {
    background: darken($bg, 13%);
  }
}


// button text mixin
@mixin btn-text($text, $hover-text, $active-text) {
  color: $text;

  &:hover {
    color: $hover-text;
  }

  &.active,
  &:active {
    color: $active-text;
  }
}


// disable outline appearance
button,
.btn {
  outline: 0px !important;
}


// common button styles
.btn {
  border-radius: 3px;
  border: 0px;
  outline: 0px;
  cursor: pointer;
  box-shadow: none;
  font-size: $btn-font-size;
  padding: 8px 16px;

  @media (max-width: $screen-xs-max) {
    font-size: $btn-font-size * 0.9;
    padding: 6px 12px;
    font-weight: 400;
  }

  &.btn-lg {
    font-size: $btn-font-size * 1.4;
    padding: 16px 32px;

    @media (max-width: $screen-xs-max) {
      font-size: $btn-font-size * 0.1;
      padding: 10px 20px;
    }
  }

  &.btn-sm {
    font-size: $btn-font-size * 0.9;
    padding: 5px 7px;

    i {
      margin-right: 3px;
    }

    i:only-child {
      margin-right: 0px;
    }

    span + i {
      margin-left: 3px;
    }

    @media (max-width: $screen-xs-max) {
      font-size: $btn-font-size * 0.8;
    }
  }

  // use default if not specified
  @include btn-bg($gray-lighter);
  @include btn-text($gray-dark, $gray-darker, $gray-darker);

  // brand colored backgrounds
  @each $name, $bg in $button-bgs {
    &.btn-#{$name} {
      @include btn-bg($bg);
    }
  }

  // brand colored texts
  @each $name, $text, $hoverText, $activeText in $button-texts {
    &.btn-#{$name} {
      @include btn-text($text, $hoverText, $activeText);
    }
  }

  // text color variants
  @each $name, $bg in $button-bgs {
    &.btn-text-#{$name} {
      @include btn-text(darken($bg, 5%), darken($bg, 8%), darken($bg, 8%));
    }
  }

  &.active {
    font-weight: 500;
  }

  &.btn-link {
    color: $gray-dark;
    background: transparent;
    box-shadow: none;
  }

  i {
    margin-right: 8px;
  }

  i:only-child {
    margin-right: 0px;
  }

  &.btn-icon i {
    margin-right: 0px;
  }

  span + i {
    margin-right: 0px;
    margin-left: 8px;
  }
}


// button groups
.btn-group {
  border-radius: 3px;
  box-shadow: none;

  .btn {
    @each $name, $bg in $button-bgs {
      &.btn-#{$name} {
        border-left: 1px solid darken($bg, 14%);

        &:first-child {
          border-left: 0px;
        }

        &:active,
        &:focus,
        &.active {
          border-left: 1px solid darken($bg, 22%);

          &:first-child {
            border-left: 0px;
          }
        }
      }
    }

    & + .btn {
      margin-left: 0px;
    }
  }
}


// vertical button groups
.btn-group.btn-group-vertical {
  border-radius: 3px;

  .btn {
    box-shadow: none;

    @each $name, $bg in $button-bgs {
      &.btn-#{$name} {
        border-left: 0px;
        box-shadow: none;
        border-top: 1px solid darken($bg, 14%);

        &:first-child {
          border-top: 0px;
        }

        &:active,
        &:focus,
        &.active {
          border-top: 1px solid darken($bg, 22%);

          &:first-child {
            border-top: 0px;
          }
        }
      }
    }

    & + .btn {
      margin-top: 0px;
    }

    &:last-child {
      box-shadow: inset rgba(0, 0, 0, 0.1) 0px -3px 0px;

      &.btn-sm {
        box-shadow: inset rgba(0, 0, 0, 0.1) 0px -2px 0px;
      }

      &.btn-lg {
        box-shadow: inset rgba(0, 0, 0, 0.1) 0px -4px 0px;
      }
    }

    &:first-child:not(:last-child) {
      border-top-left-radius: 3px;
      border-top-right-radius: 3px;
    }
  }
}


// buttons in input-groups
.input-group-btn {
  .btn {
    box-shadow: none;
    padding: 9px 16px;
  }
}
